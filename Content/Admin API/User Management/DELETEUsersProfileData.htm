<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="10" MadCap:lastHeight="1390" MadCap:lastWidth="860">
    <head>
    </head>
    <body>
        <h1>DELETE User’s Profile Data</h1>
        <p>After deleting a user, you can use this method if you want to purge a deleted user’s profile information from the Cassandra database. Otherwise, the deleted user’s profile information is retained in Cassandra indefinitely.</p>
        <p>There are many HyperStore virtual nodes per physical node. The default is 32 vNodes per host.</p>
        <p>IMPORTANT: After you purge a deleted user’s profile information from Cassandra, you will no longer be able to retrieve that user’s profile information via the GET /user/list method. This means that you will no longer be able to retrieve the deleted user’s canonical user ID (which is part of the UserInfo object that’s returned in response to GET /user/list). Without a deleted user’s canonical user ID, you will not be able to retrieve usage history for the user. Consequently, you should purge a deleted user’s profile information only if:</p>
        <p>You have some independent record of the user’s canonical user ID (outside of the Cassandra database).</p>
        <p>OR</p>
        <p>You are confident that you will no longer require access to the deleted user’s usage history.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="StyleTest2">
                <MadCap:dropDownHotspot style="color: #c1d62f; font-size: 11.5pt;">Request Format</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h4>Syntax</h4><pre xml:space="preserve">DELETE /user/deleted[?canonicalUserId=xxx|groupId=xxx]</pre>
                <h4>Query Parameters</h4>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">canonicalUserId</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <table style="border-collapse: separate;border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: 100%;">
                            <col style="width: 115px;" />
                            <col style="width: 468px;" />
                            <col style="width: 159px;" />
                            <thead>
                                <tr>
                                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Type</th>
                                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Description</th>
                                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Mandatory / Optional</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">string</td>
                                    <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">
                                        <p>System-generated canonical user ID of the deleted user whose profile information you wish to purge from Cassandra.
</p>
                                        <p>
Note that you can retrieve deleted users' canonical IDs by using the GET /user/list method with userStatus=deleted.</p>
                                    </td>
                                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">You must use canonicalUserId OR groupId but not both.</td>
                                </tr>
                            </tbody>
                        </table>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">groupId</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <table style="border-collapse: separate;border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: 100%;">
                            <col style="width: 115px;" />
                            <col style="width: 468px;" />
                            <col style="width: 159px;" />
                            <thead>
                                <tr>
                                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Type</th>
                                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Description</th>
                                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Mandatory / Optional</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">string</td>
                                    <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">Specify a group ID if you wish to purge user profile information for all deleted users within the group.</td>
                                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">
                                        <p>You must use canonicalUserId OR groupId but not both.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <h4>Request Payload</h4>
                <p>None.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><span style="color: #c1d62f; font-size: 11.5pt;">Response Format</span>
                </MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h4>Response Status</h4>
                <p>In addition to the <MadCap:xref href="../CommonStatusCodes.htm" target="_popup">Common Status Codes</MadCap:xref>, this method may return these codes:</p>
                <table style="border-collapse: separate;border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: 100%;">
                    <col style="width: 115px;" />
                    <col style="width: 629px;" />
                    <thead>
                        <tr>
                            <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Status Code</th>
                            <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;"> 	

Conflicting or missing parameters : {canonicalUserId, groupId}</td>
                        </tr>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;"> 	

User does not exist or is not in a deleted state.</td>
                        </tr>
                    </tbody>
                </table>
                <h4>Response Payload</h4>
                <p>None.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="color: #c1d62f; font-size: 12pt;">Example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>In this example a user’s profile data is successfully deleted. In the request the user is identified by their canonical ID. Note that the request must include a <code>Content-Type: application/json</code> header even though there is no request body.</p><pre xml:space="preserve"># Request -&gt;
DELETE http://192.168.2.16:18081/user/deleted?canonicalUserId=f3117ac8fa2c6f8fbc731ada593ebb2f

# Response -&gt;

Status Code: 200 OK
Content-Length: 0
Date: Wed, 23 Sep 2015 13:44:51 GMT</pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>