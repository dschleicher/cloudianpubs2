<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="1811" MadCap:lastWidth="882">
    <head>
    </head>
    <body>
        <h1>
            <MadCap:keyword term="hsstool ring command" />hsstool ring Command</h1>
        <p>This operation provides status information for each of the dozens or hundreds of virtual nodes (vNodes) in your storage cluster. It is very granular and verbose. In most circumstances you will find more value in using the <code style="font-size: 12pt;">info</code> or <code style="font-size: 12pt;">status</code> commands rather than <code style="font-size: 12pt;">ring</code>.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="color: #c1d62f; font-size: 12pt;">Command Line Syntax</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre> <span style="font-size: 12pt;">[root]# /opt/cloudian/bin/hsstool [-h &lt;host&gt;] ring</span></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="color: #c1d62f; font-size: 12pt;">CMC UI</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p><b>Cluster -&gt; Nodes -&gt; Advanced</b> <![CDATA[ ]]></p>
                <p>
                    <img src="../../Resources/Images/CMC/Cluster/Nodes/Advanced_ring.png" style="mc-thumbnail-max-height: 60px;" />
                </p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="color: #c1d62f; font-size: 12pt;">Parameters</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>This command supports these parameters:</p>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">-h &lt;host&gt;</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>You can use any node in the storage cluster as the target host. The ring command retrieves information that is available via any node that belongs to the cluster. Defaults to local host if you do not supply -h &lt;host&gt; on the command line.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot style="color: #c1d62f; font-size: 12pt;">Response</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>The ring command results display a status line for each virtual node (vNode) in the storage cluster. By default there are 32 vNodes on each HyperStore physical host, so the ring command may return hundreds of lines of information. The returned information is sorted by ascending vNode token number.</p>
                <p>The example below is an excerpt from a ring command response for a four node HyperStore system that spans two data centers. Each of the four physical nodes has 32 vNodes, so the full response has 128 data lines. The list is sorted by ascending vNode token number. Note that although the command is submitted to a particular node ("cloudian-node1"), it returns information for the whole cluster. It doesn’t matter which node you submit the command to.</p><pre xml:space="preserve">[root]# /opt/cloudian/bin/hsstool -h cloudian-node1 ring
Address      DC   Rack Cassandra Cassandra-Load  Hss  State  Token
105.236.130.70 DC1  RAC1   Up       2.05 MB      Up  Normal 2146203117201265879150333284323068618
105.236.130.70 DC1  RAC1   Up       2.05 MB      Up  Normal 5542328528654630725776532927863868383
105.236.218.176 DC2 RAC1   Up       1.35 MB      Up  Normal 12000523287982171803377514999547780254
105.236.218.176 DC2 RAC1   Up       1.35 MB      Up  Normal 13878365488241145156735727847865047180
198.199.106.194 DC1 RAC1   Up       1.9 MB       Up  Normal 18315119863185730105557340630830311535
...
...</pre>
                <p>Each vNode’s status line consists of the following items:</p>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">Address</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>IP address of the physical node on which the vNode resides.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">DC</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>Data center in which the vNode resides.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">Rack</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>Rack in which the vNode resides.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">Cassandra</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>Cassandra Service status of the vNode. Will be one of: "Up", "Down", "Joining" (in the process of joining the cluster), "Leaving" (in the process of decommissioning or being removed from the cluster), or "?" (physical host cannot be reached). All vNodes on a physical node will have the same Cassandra status.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">Cassandra-Load</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>Cassandra load for the physical host on which the vNode resides. There will be some Cassandra load even if all S3 objects are stored in the HyperStore File System or the erasure coding file system. For example, Cassandra is used for storage of object metadata and service usage data, among other things. Note that Cassandra load information is available only for the physical node as a whole; it is not available on a per-vNode basis like HSFS load information is.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">HSS</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>HyperStore Service status for the vNode. Will be one of: "Up", "Down", or "?" (physical host cannot be reached). All vNodes on a physical node will have the same HSS status.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">State</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>HyperStore Service state for the vNode. Will be one of: "Normal" or "Decommissioning". All vNodes on a physical node will have the same HSS state.</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot style="color: #949a9f;">Token</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <p>The vNode’s token (from an integer token space ranging from 0 to 2 <sup>127</sup> -1).</p>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>